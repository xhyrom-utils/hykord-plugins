(()=>{var r=(i=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(i,{get:(o,e)=>(typeof require<"u"?require:o)[e]}):i)(function(i){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+i+'" is not supported')});var k=r("@hykord/structures"),h=r("@hykord/utilities"),p=r("@hykord/patcher");var d=r("fs/promises"),a=r("path"),u=r("@hykord/utilities"),P=null,f="https://xhyrom-utils.github.io/hykord-plugins",c=async i=>{let o=await fetch(`${i.path}/dist/index.js`),e=(0,a.join)(window.hykord.plugins.location,(0,u.nameToId)(i.name));return o.ok?(o=await o.text(),await(0,d.mkdir)((0,a.join)(e,"dist"),{recursive:!0}),await(0,d.writeFile)((0,a.join)(e,"dist","index.js"),o),P.info(`Plugin ${i.name} has been successfully installed!`),await window.hykord.plugins.initializePlugin((0,u.nameToId)(i.name)),await window.hykord.plugins.loadPlugin(window.hykord.plugins.getPlugin(i.name)||window.hykord.plugins.getPlugin((0,u.nameToId)(i.name))),!0):(P.err("Failed to download plugin - ",o),!1)},w=i=>{P=i.logger};var s=r("@hykord/webpack"),l=r("@hykord/components");var t=r("@hykord/webpack"),y=r("@hykord/utilities"),n=r("@hykord/components");var g=class extends t.React.Component{plugins;plugin;constructor(i){super(i),this.plugins=window.hykord.plugins,this.plugin=i.pluginData,this.checkIfPluginIsInstalled=this.checkIfPluginIsInstalled.bind(this),this.state={type:this.checkIfPluginIsInstalled(this.plugin.name)?"Running":"Install plugin",disabled:this.checkIfPluginIsInstalled(this.plugin.name)},this.handleClick=this.handleClick.bind(this)}async handleClick(){if(!this.checkIfPluginIsInstalled(this.plugin.name)){this.setState({disabled:!0,...this.state});let i=await c(this.plugin);this.setState({type:i?"Running":"Install plugin",disabled:i})}}checkIfPluginIsInstalled(i){return window.hykord.plugins.getAllPlugins().some(o=>o.name.toLowerCase()===(0,y.nameToId)(i)||o.name.toLowerCase()===i.toLowerCase())}render(){return t.React.createElement(n.ErrorBoundary,null,t.React.createElement(n.Card,{className:"hykord-card"},t.React.createElement(n.Flex,{justify:n.Flex.Justify.START,align:n.Flex.Align.CENTER},t.React.createElement(n.FormText,{tag:"h5"},t.React.createElement("strong",null,this.plugin.name),this.plugin.author?t.React.createElement(t.React.Fragment,null," by ",t.React.createElement("strong",null,this.plugin.author||"-")):null),t.React.createElement(n.Flex,{justify:n.Flex.Justify.END},t.React.createElement(n.Button,{color:n.Button.Colors.BRAND_NEW,size:n.Button.Sizes.TINY,look:n.Button.Looks.OUTLINED,disabled:this.state.disabled,onClick:this.handleClick},this.state.type))),t.React.createElement("br",null),t.React.createElement(n.Markdown,null,this.plugin.description||"")))}};var I=async()=>()=>{let[i,o]=s.React.useState([]),e=async()=>{let m=await(await fetch(`${f}/plugins.json`)).json();o(m)};return s.React.useEffect(()=>{e()},[]),s.React.createElement(s.React.Fragment,null,s.React.createElement(l.FormTitle,{tag:"h1"},"Plugin Zone"),i.length===0?s.React.createElement(l.FormText,null,"Loading..."):null,s.React.createElement(l.Flex,{wrap:l.Flex.Wrap.WRAP,className:"hykord-plugin-zone-cards"},i.map(m=>s.React.createElement(s.React.Fragment,null,s.React.createElement(g,{pluginData:m})))))};new k.Plugin({name:"Plugin Zone",author:"xHyroM",description:"Place for verified hykord plugins",onEnable:async i=>{w(i),(0,h.registerSection)("HYKORD_PLUGIN_PLUGIN_ZONE","Plugin Zone",await I()),(0,p.injectCss)(".hykord-plugin-zone-cards{gap: 10px}","HYKORD_PLUGIN_PLUGIN_ZONE")},onDisable:()=>{(0,h.unregisterSection)("HYKORD_PLUGIN_PLUGIN_ZONE"),(0,p.uninjectCssById)("HYKORD_PLUGIN_PLUGIN_ZONE")}});})();
